
<div class="card p-4">
  <h1 class="m-3">Update Product</h1>
  <form [formGroup]="OeuvreEditForm" (ngSubmit)="onSubmit()">
    <div class="d-flex justify-content-between">
      <mat-form-field appearance="fill" class="mat-form-field-fill px-2">
        <mat-label>Name</mat-label>
        <input matInput formControlName="name" />
        <mat-error *ngIf="OeuvreEditForm.get('name').errors">{{
          getErrorMessage("name")
        }}</mat-error>
      </mat-form-field>
      <mat-form-field appearance="fill" class="mat-form-field-fill px-2 col-4" *ngIf="category">
        <mat-label>Category</mat-label>
        <mat-select formControlName="category" >
          <mat-option *ngFor="let st of category" [value]="st._id">{{st.name}}</mat-option>
        </mat-select>
      </mat-form-field>
    </div>

    <div class="d-flex justify-content-between">
     <mat-form-field appearance="fill" class="mat-form-field-fill px-2">
      <mat-label>Description</mat-label>
      <input matInput formControlName="description"/>
      <mat-error *ngIf="OeuvreEditForm.get('description').invalid">{{
        getErrorMessage("description")
      }}</mat-error>
    </mat-form-field>
      <mat-form-field appearance="fill" class="mat-form-field-fill px-2">
        <mat-label>Price</mat-label>
        <input matInput formControlName="price" />
        <mat-error *ngIf="OeuvreEditForm.get('price').invalid">{{
          getErrorMessage("price")
        }}</mat-error>
      </mat-form-field>
    </div>
    <div class="mat-form-field-fill px-2" *ngIf="!isUploadedImage" >
      <small>Upload product's images</small>
      <div class="images">
        <div class="image-container" *ngFor="let im of OeuvreEditForm.get('image'); index as i">
          <img [src]="im" alt="" class="image">
        </div>
      </div>
      <app-upload-file fileTypes="image" (uploadEvent)="onUploadFile($event)">          
      </app-upload-file>
    </div>
    <div class="w-100 my-2" >
      <button [disabled]="(isSaving$ | async) || invalid" mat-raised-button color="primary" style="float: right">
          Insert
          <mat-spinner *ngIf="isSaving$ | async" diameter="20" class="float-right m-2">
          </mat-spinner>
      </button>
  </div>
  </form>
  </div>
  